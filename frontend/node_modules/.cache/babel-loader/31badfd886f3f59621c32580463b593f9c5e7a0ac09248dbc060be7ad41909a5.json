{"ast":null,"code":"var _jsxFileName = \"D:\\\\React.js\\\\theeyasakthi_webpage\\\\frontend\\\\src\\\\pages\\\\Blog.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport PageTransition from \"../PageTransition\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Blog() {\n  _s();\n  const [posts, setPosts] = useState([]);\n\n  // ðŸ”„ Fetch blogs from backend (admin-controlled)\n  useEffect(() => {\n    fetch(\"http://localhost:5000/api/blogs\").then(res => res.json()).then(data => {\n      // Map backend blogs to frontend structure (NO layout change)\n      const mapped = data.map(b => ({\n        text: b.content,\n        link: b.youtubeLink,\n        date: b.createdAt ? new Date(b.createdAt).toLocaleDateString(\"en-GB\") : \"\",\n        upload: b.createdAt ? new Date(b.createdAt).toLocaleDateString(\"en-GB\") : \"\"\n      }));\n      setPosts(mapped);\n    }).catch(err => console.error(\"Failed to fetch blogs\", err));\n  }, []);\n\n  // extract video id from normal + shorts + youtu.be\n  const getVideoId = url => {\n    try {\n      if (!url) return \"\";\n      if (url.includes(\"shorts/\")) {\n        return url.split(\"shorts/\")[1].split(\"?\")[0];\n      }\n      if (url.includes(\"watch?v=\")) {\n        return url.split(\"watch?v=\")[1].split(\"&\")[0];\n      }\n      if (url.includes(\"youtu.be/\")) {\n        return url.split(\"youtu.be/\")[1].split(\"?\")[0];\n      }\n    } catch {}\n    return \"\";\n  };\n  return /*#__PURE__*/_jsxDEV(PageTransition, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"blog-hero\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"BLOG PAGE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"blog-subtitle\",\n        children: \"Editorial insights and perspectives.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"blog-container\",\n      children: posts.map((p, i) => {\n        const vid = getVideoId(p.link);\n        const thumb = vid ? `https://img.youtube.com/vi/${vid}/hqdefault.jpg` : \"\";\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blog-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"blog-text\",\n            children: p.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), vid && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: p.link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: thumb,\n              className: \"blog-thumb\",\n              alt: \"YouTube thumbnail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), p.link && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"blog-link\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Link:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: p.link,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: p.link\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), \" \", p.date]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Uploaded:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), \" \", p.upload]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Blog, \"bG8V4duoIfO0BEPgauWMVT5Qvyw=\");\n_c = Blog;\nvar _c;\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"names":["useEffect","useState","PageTransition","jsxDEV","_jsxDEV","Blog","_s","posts","setPosts","fetch","then","res","json","data","mapped","map","b","text","content","link","youtubeLink","date","createdAt","Date","toLocaleDateString","upload","catch","err","console","error","getVideoId","url","includes","split","children","className","fileName","_jsxFileName","lineNumber","columnNumber","p","i","vid","thumb","href","target","rel","src","alt","_c","$RefreshReg$"],"sources":["D:/React.js/theeyasakthi_webpage/frontend/src/pages/Blog.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport PageTransition from \"../PageTransition\";\r\n\r\nexport default function Blog() {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  // ðŸ”„ Fetch blogs from backend (admin-controlled)\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/blogs\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Map backend blogs to frontend structure (NO layout change)\r\n        const mapped = data.map((b) => ({\r\n          text: b.content,\r\n          link: b.youtubeLink,\r\n          date: b.createdAt\r\n            ? new Date(b.createdAt).toLocaleDateString(\"en-GB\")\r\n            : \"\",\r\n          upload: b.createdAt\r\n            ? new Date(b.createdAt).toLocaleDateString(\"en-GB\")\r\n            : \"\",\r\n        }));\r\n        setPosts(mapped);\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch blogs\", err));\r\n  }, []);\r\n\r\n  // extract video id from normal + shorts + youtu.be\r\n  const getVideoId = (url) => {\r\n    try {\r\n      if (!url) return \"\";\r\n      if (url.includes(\"shorts/\")) {\r\n        return url.split(\"shorts/\")[1].split(\"?\")[0];\r\n      }\r\n      if (url.includes(\"watch?v=\")) {\r\n        return url.split(\"watch?v=\")[1].split(\"&\")[0];\r\n      }\r\n      if (url.includes(\"youtu.be/\")) {\r\n        return url.split(\"youtu.be/\")[1].split(\"?\")[0];\r\n      }\r\n    } catch {}\r\n    return \"\";\r\n  };\r\n\r\n  return (\r\n    <PageTransition>\r\n      <section className=\"blog-hero\">\r\n        <h1>BLOG PAGE</h1>\r\n        <p className=\"blog-subtitle\">\r\n          Editorial insights and perspectives.\r\n        </p>\r\n      </section>\r\n\r\n      <section className=\"blog-container\">\r\n        {posts.map((p, i) => {\r\n          const vid = getVideoId(p.link);\r\n          const thumb = vid\r\n            ? `https://img.youtube.com/vi/${vid}/hqdefault.jpg`\r\n            : \"\";\r\n\r\n          return (\r\n            <div key={i} className=\"blog-card\">\r\n\r\n              {/* TEXT FIRST */}\r\n              <p className=\"blog-text\">{p.text}</p>\r\n\r\n              {/* THUMBNAIL */}\r\n              {vid && (\r\n                <a href={p.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  <img\r\n                    src={thumb}\r\n                    className=\"blog-thumb\"\r\n                    alt=\"YouTube thumbnail\"\r\n                  />\r\n                </a>\r\n              )}\r\n\r\n              {/* LINK */}\r\n              {p.link && (\r\n                <p className=\"blog-link\">\r\n                  <strong>Link:</strong>{\" \"}\r\n                  <a href={p.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    {p.link}\r\n                  </a>\r\n                </p>\r\n              )}\r\n\r\n              {/* DATE AT THE BOTTOM */}\r\n              <p className=\"meta\">\r\n                <strong>Date:</strong> {p.date}\r\n              </p>\r\n              <p className=\"meta\">\r\n                <strong>Uploaded:</strong> {p.upload}\r\n              </p>\r\n\r\n            </div>\r\n          );\r\n        })}\r\n      </section>\r\n    </PageTransition>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}