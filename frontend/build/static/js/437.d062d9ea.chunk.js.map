{"version":3,"file":"static/js/437.d062d9ea.chunk.js","mappings":"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","sources":["pages/Blog.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { collection, getDocs, orderBy, query } from \"firebase/firestore\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport PageTransition from \"../PageTransition\";\r\n\r\nexport default function Blog() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [expandedPosts, setExpandedPosts] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchBlogs = async () => {\r\n      const q = query(collection(db, \"blogs\"), orderBy(\"createdAt\", \"desc\"));\r\n      const snap = await getDocs(q);\r\n\r\n      const mapped = snap.docs.map((d) => {\r\n        const b = d.data();\r\n        return {\r\n          title: b.title || \"\",\r\n          text: b.content,\r\n          link: b.youtubeLink,\r\n          date: b.createdAt?.toDate().toLocaleDateString(\"en-GB\"),\r\n          upload: b.createdAt?.toDate().toLocaleDateString(\"en-GB\"),\r\n        };\r\n      });\r\n\r\n      setPosts(mapped);\r\n    };\r\n\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  const getVideoId = (url) => {\r\n    try {\r\n      if (!url) return \"\";\r\n      if (url.includes(\"shorts/\")) return url.split(\"shorts/\")[1].split(\"?\")[0];\r\n      if (url.includes(\"watch?v=\")) return url.split(\"watch?v=\")[1].split(\"&\")[0];\r\n      if (url.includes(\"youtu.be/\")) return url.split(\"youtu.be/\")[1];\r\n    } catch { }\r\n    return \"\";\r\n  };\r\n\r\n  const toggleExpand = (index) => {\r\n    setExpandedPosts(prev => ({\r\n      ...prev,\r\n      [index]: !prev[index]\r\n    }));\r\n  };\r\n\r\n  const shouldShowSeeMore = (text) => {\r\n    if (!text) return false;\r\n    // Show see more if text has more than 50 words or 300 characters\r\n    const wordCount = text.trim().split(/\\s+/).length;\r\n    return wordCount > 50 || text.length > 300;\r\n  };\r\n\r\n  return (\r\n    <PageTransition>\r\n      <div className=\"blog-page-header\">\r\n        <h1>BLOG PAGE</h1>\r\n      </div>\r\n      {/* UI UNCHANGED */}\r\n      <section className=\"blog-container\">\r\n        {posts.map((p, i) => {\r\n          const vid = getVideoId(p.link);\r\n          const thumb = vid\r\n            ? `https://img.youtube.com/vi/${vid}/hqdefault.jpg`\r\n            : \"\";\r\n\r\n          return (\r\n            <div key={i} className=\"blog-card\">\r\n              {vid && (\r\n                <a href={p.link} target=\"_blank\" rel=\"noreferrer\">\r\n                  <img src={thumb} className=\"blog-thumb\" alt=\"\" />\r\n                </a>\r\n              )}\r\n\r\n              {p.title && (\r\n                <h3 className=\"blog-title\">{p.title}</h3>\r\n              )}\r\n\r\n              {p.link && (\r\n                <p className=\"blog-link\">\r\n                  <a href={p.link} target=\"_blank\" rel=\"noreferrer\">\r\n                    {p.link}\r\n                  </a>\r\n                </p>\r\n              )}\r\n\r\n              <p className={`blog-text ${expandedPosts[i] ? 'expanded' : ''}`}>\r\n                {p.text}\r\n              </p>\r\n              \r\n              {!expandedPosts[i] && shouldShowSeeMore(p.text) && (\r\n                <span className=\"see-more-btn\" onClick={() => toggleExpand(i)}>\r\n                  see more...\r\n                </span>\r\n              )}\r\n\r\n              {expandedPosts[i] && (\r\n                <span className=\"see-more-btn\" onClick={() => toggleExpand(i)}>\r\n                  show less\r\n                </span>\r\n              )}\r\n\r\n              <p className=\"meta\">Date: {p.date}</p>\r\n              <p className=\"meta\">Uploaded: {p.upload}</p>\r\n            </div>\r\n          );\r\n        })}\r\n      </section>\r\n\r\n      <style>{`\r\n        .blog-page-header {\r\n          text-align: center;\r\n          padding: 40px 20px;\r\n          margin-bottom: 40px;\r\n        }\r\n\r\n        .blog-page-header h1 {\r\n          font-size: 2rem;\r\n          font-weight: 700;\r\n          color: #fff;\r\n          margin: 0;\r\n          letter-spacing: 2px;\r\n          text-transform: uppercase;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .blog-page-header h1 {\r\n            font-size: 1.5rem;\r\n          }\r\n        }\r\n      `}</style>\r\n    </PageTransition>\r\n  );\r\n}\r\n"],"names":["Blog","posts","setPosts","useState","expandedPosts","setExpandedPosts","useEffect","async","q","query","collection","db","orderBy","mapped","getDocs","docs","map","d","_b$createdAt","_b$createdAt2","b","data","title","text","content","link","youtubeLink","date","createdAt","toDate","toLocaleDateString","upload","fetchBlogs","toggleExpand","index","prev","_objectSpread","shouldShowSeeMore","trim","split","length","_jsxs","PageTransition","children","_jsx","className","p","i","vid","url","includes","_unused","getVideoId","thumb","concat","href","target","rel","src","alt","onClick"],"ignoreList":[],"sourceRoot":""}