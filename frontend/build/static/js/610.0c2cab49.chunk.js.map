{"version":3,"file":"static/js/610.0c2cab49.chunk.js","mappings":"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","sources":["components/VideoCarousel.jsx","pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  query,\r\n  orderBy,\r\n  limit\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport \"./VideoCarousel.css\";\r\n\r\nconst buildSlides = items =>\r\n  items.length > 0 ? [items[items.length - 1], ...items, items[0]] : [];\r\n\r\nconst parseDurationSeconds = iso => {\r\n  if (!iso) return null;\r\n  const h = parseInt(iso.match(/(\\d+)H/)?.[1] || 0, 10);\r\n  const m = parseInt(iso.match(/(\\d+)M/)?.[1] || 0, 10);\r\n  const s = parseInt(iso.match(/(\\d+)S/)?.[1] || 0, 10);\r\n  const total = h * 3600 + m * 60 + s;\r\n  return Number.isFinite(total) ? total : null;\r\n};\r\n\r\nasync function fetchYouTubeFallback(limitCount = 12) {\r\n  const apiKey = process.env.REACT_APP_YOUTUBE_API_KEY;\r\n  const channelId = process.env.REACT_APP_YOUTUBE_CHANNEL_ID;\r\n  if (!apiKey || !channelId) return { shorts: [], videos: [] };\r\n\r\n  // Grab uploads playlist\r\n  const channelRes = await fetch(\r\n    `https://www.googleapis.com/youtube/v3/channels?part=contentDetails&id=${channelId}&key=${apiKey}`\r\n  );\r\n  const channelData = await channelRes.json();\r\n  const uploadsId = channelData.items?.[0]?.contentDetails?.relatedPlaylists?.uploads;\r\n  if (!uploadsId) return { shorts: [], videos: [] };\r\n\r\n  const playlistRes = await fetch(\r\n    `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${uploadsId}&maxResults=${limitCount}&key=${apiKey}`\r\n  );\r\n  const playlistData = await playlistRes.json();\r\n  const videoIds = playlistData.items\r\n    ?.map(item => item.snippet?.resourceId?.videoId)\r\n    .filter(Boolean) || [];\r\n\r\n  if (!videoIds.length) return { shorts: [], videos: [] };\r\n\r\n  const detailsRes = await fetch(\r\n    `https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&id=${videoIds.join(\",\")}&key=${apiKey}`\r\n  );\r\n  const detailsData = await detailsRes.json();\r\n\r\n  const shorts = [];\r\n  const videos = [];\r\n\r\n  detailsData.items?.forEach(item => {\r\n    const durationSeconds = parseDurationSeconds(item.contentDetails?.duration);\r\n    const isShort = typeof durationSeconds === \"number\" && durationSeconds < 90;\r\n    const payload = {\r\n      id: item.id,\r\n      videoId: item.id,\r\n      title: item.snippet?.title || \"\",\r\n      thumbnail:\r\n        item.snippet?.thumbnails?.maxres?.url ||\r\n        item.snippet?.thumbnails?.standard?.url ||\r\n        item.snippet?.thumbnails?.high?.url ||\r\n        item.snippet?.thumbnails?.medium?.url ||\r\n        item.snippet?.thumbnails?.default?.url,\r\n      publishedAt: item.snippet?.publishedAt,\r\n      durationSeconds,\r\n      isShort,\r\n      type: isShort ? \"short\" : \"video\"\r\n    };\r\n\r\n    if (isShort) {\r\n      shorts.push(payload);\r\n    } else {\r\n      videos.push(payload);\r\n    }\r\n  });\r\n\r\n  return { shorts, videos };\r\n}\r\n\r\nfunction CarouselBlock({ title, items, loading, emptyMessage }) {\r\n  const [index, setIndex] = useState(1);\r\n  const [speed, setSpeed] = useState(\".6s\");\r\n\r\n  useEffect(() => {\r\n    if (items.length > 0) setIndex(1);\r\n  }, [items]);\r\n\r\n  const next = useCallback(() => {\r\n    setIndex(i => i + 1);\r\n  }, []);\r\n\r\n  const prev = useCallback(() => {\r\n    setIndex(i => i - 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (items.length < 2) return;\r\n    const timer = setInterval(next, 4500);\r\n    return () => clearInterval(timer);\r\n  }, [next, items.length]);\r\n\r\n  useEffect(() => {\r\n    if (items.length < 2) return;\r\n\r\n    const len = items.length + 2;\r\n\r\n    if (index === len - 1) {\r\n      setTimeout(() => {\r\n        setSpeed(\"0s\");\r\n        setIndex(1);\r\n        setTimeout(() => setSpeed(\".6s\"), 20);\r\n      }, 600);\r\n    }\r\n\r\n    if (index === 0) {\r\n      setTimeout(() => {\r\n        setSpeed(\"0s\");\r\n        setIndex(len - 2);\r\n        setTimeout(() => setSpeed(\".6s\"), 20);\r\n      }, 600);\r\n    }\r\n  }, [index, items.length]);\r\n\r\n  const slides = buildSlides(items);\r\n  const disableNav = items.length < 2;\r\n\r\n  console.log(`üé¨ CarouselBlock \"${title}\":`, { \r\n    loading, \r\n    itemsCount: items.length, \r\n    slidesCount: slides.length,\r\n    index,\r\n    items,\r\n    slides \r\n  });\r\n\r\n  return (\r\n    <section className=\"carousel-section\">\r\n      <div className=\"carousel-header\">\r\n        <h2 className=\"carousel-title\">{title}</h2>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <p className=\"carousel-msg\">Loading videos‚Ä¶</p>\r\n      ) : items.length === 0 ? (\r\n        <p className=\"carousel-msg\">{emptyMessage}</p>\r\n      ) : (\r\n        <div className=\"simple-carousel\">\r\n          <button className=\"nav left\" onClick={prev} disabled={disableNav}>\r\n            ‚ùÆ\r\n          </button>\r\n\r\n          <div className=\"track-wrapper\">\r\n            <div\r\n              className=\"track\"\r\n              style={{\r\n                transform: `translateX(-${index * 100}%)`,\r\n                transition: speed\r\n              }}\r\n            >\r\n              {slides.map((video, i) => {\r\n                console.log(`üñºÔ∏è Rendering slide ${i}:`, {\r\n                  videoId: video.videoId,\r\n                  thumbnail: video.thumbnail,\r\n                  title: video.title\r\n                });\r\n                return (\r\n                  <div className=\"slide\" key={`${video.id || video.videoId}-${i}`}>\r\n                    <Link\r\n                      to={`/youtube/${video.videoId}`}\r\n                      className=\"thumb-link\"\r\n                    >\r\n                      <img\r\n                        src={video.thumbnail}\r\n                        alt={video.title || 'Video thumbnail'}\r\n                        className=\"thumb-img\"\r\n                        onLoad={() => console.log(`‚úÖ Image loaded: ${video.videoId}`)}\r\n                        onError={(e) => {\r\n                          console.error(`‚ùå Image failed to load: ${video.videoId}`, video.thumbnail);\r\n                          e.target.src = `https://img.youtube.com/vi/${video.videoId}/hqdefault.jpg`;\r\n                        }}\r\n                      />\r\n                      <span className=\"play-overlay\">‚ñ∂</span>\r\n                    </Link>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <button className=\"nav right\" onClick={next} disabled={disableNav}>\r\n            ‚ùØ\r\n          </button>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default function VideoCarousel() {\r\n  const [shorts, setShorts] = useState([]);\r\n  const [longVideos, setLongVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchLatest = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setErrorMsg(\"\");\r\n\r\n        console.log(\"üî• VideoCarousel: Starting fetch...\");\r\n        console.log(\"üî• Firebase DB instance:\", db);\r\n\r\n        let snap;\r\n\r\n        try {\r\n          console.log(\"üî• Attempting ordered query...\");\r\n          const q = query(\r\n            collection(db, \"videos\"),\r\n            orderBy(\"publishedAt\", \"desc\"),\r\n            limit(18)\r\n          );\r\n          snap = await getDocs(q);\r\n          console.log(\"‚úÖ Ordered query succeeded, docs:\", snap.docs.length);\r\n        } catch (orderingError) {\r\n          console.warn(\"‚ö†Ô∏è Ordered query failed, falling back to unordered fetch\", orderingError);\r\n          snap = await getDocs(collection(db, \"videos\"));\r\n          console.log(\"‚úÖ Unordered fetch succeeded, docs:\", snap.docs.length);\r\n        }\r\n\r\n        console.log(\"üìä Raw Firestore docs:\", snap.docs.length);\r\n\r\n        const data = snap.docs\r\n          .map(doc => {\r\n            const raw = doc.data();\r\n            console.log(\"üìÑ Document:\", doc.id, raw);\r\n            const fallbackThumb = raw.videoId\r\n              ? `https://img.youtube.com/vi/${raw.videoId}/hqdefault.jpg`\r\n              : \"\";\r\n\r\n            return {\r\n              id: doc.id,\r\n              ...raw,\r\n              thumbnail: raw.thumbnail || fallbackThumb\r\n            };\r\n          })\r\n          .filter(video => {\r\n            const hasVideoId = Boolean(video.videoId);\r\n            console.log(`üîç Video ${video.id} has videoId:`, hasVideoId, video.videoId);\r\n            return hasVideoId;\r\n          });\r\n\r\n        console.log(\"‚úÖ Filtered data (with videoId):\", data.length, data);\r\n\r\n        const normalizeDate = value => {\r\n          if (!value) return 0;\r\n          if (typeof value.toMillis === \"function\") return value.toMillis();\r\n          if (value.seconds) return value.seconds * 1000 + (value.nanoseconds || 0) / 1e6;\r\n          const parsed = Date.parse(value);\r\n          return Number.isFinite(parsed) ? parsed : 0;\r\n        };\r\n\r\n        const sorted = data\r\n          .slice()\r\n          .sort((a, b) => normalizeDate(b.publishedAt || b.createdAt) - normalizeDate(a.publishedAt || a.createdAt))\r\n          .slice(0, 18);\r\n\r\n        console.log(\"‚úÖ Sorted data:\", sorted.length);\r\n\r\n        const shortsOnly = [];\r\n        const videosOnly = [];\r\n\r\n        sorted.forEach(video => {\r\n          const typeField = (video.type || \"\").toLowerCase();\r\n          const isShortField = video.isShort === true;\r\n          const duration = typeof video.durationSeconds === \"number\" ? video.durationSeconds : null;\r\n\r\n          const isShort =\r\n            isShortField ||\r\n            typeField === \"short\" ||\r\n            typeField === \"shorts\" ||\r\n            (duration !== null && duration > 0 && duration < 60);\r\n\r\n          const isVideo =\r\n            (typeField === \"video\" && !isShortField) ||\r\n            (duration !== null && duration >= 90) ||\r\n            (duration === null && video.isShort === false && typeField !== \"short\" && typeField !== \"shorts\");\r\n\r\n          if (isShort) {\r\n            shortsOnly.push(video);\r\n          } else if (isVideo) {\r\n            videosOnly.push(video);\r\n          }\r\n        });\r\n\r\n        console.log(\"‚úÖ FINAL RESULTS:\", {\r\n          totalFromFirestore: data.length,\r\n          afterSort: sorted.length,\r\n          shortsCount: shortsOnly.length,\r\n          videosCount: videosOnly.length,\r\n          shortsData: shortsOnly.map(v => ({ id: v.videoId, title: v.title, type: v.type, dur: v.durationSeconds })),\r\n          videosData: videosOnly.map(v => ({ id: v.videoId, title: v.title, type: v.type, dur: v.durationSeconds }))\r\n        });\r\n\r\n        setShorts(shortsOnly.slice(0, 3));\r\n        setLongVideos(videosOnly.slice(0, 3));\r\n\r\n        const missingData = shortsOnly.length === 0 && videosOnly.length === 0;\r\n\r\n        if (missingData) {\r\n          console.log(\"‚ö†Ô∏è No data from Firestore, trying YouTube API fallback...\");\r\n          const fallback = await fetchYouTubeFallback(6);\r\n          console.log(\"‚úÖ YouTube fallback result:\", fallback);\r\n          if (fallback.shorts.length || fallback.videos.length) {\r\n            setShorts(fallback.shorts.slice(0, 3));\r\n            setLongVideos(fallback.videos.slice(0, 3));\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error(\"‚ùå Failed to load videos\", err);\r\n        try {\r\n          console.log(\"‚ö†Ô∏è Trying YouTube API fallback due to error...\");\r\n          const fallback = await fetchYouTubeFallback(6);\r\n          setShorts(fallback.shorts.slice(0, 3));\r\n          setLongVideos(fallback.videos.slice(0, 3));\r\n          setErrorMsg(\"Firestore fetch failed; showing YouTube fallback\");\r\n        } catch (ytError) {\r\n          console.error(\"‚ùå YouTube fallback failed\", ytError);\r\n          setShorts([]);\r\n          setLongVideos([]);\r\n          setErrorMsg(\"Unable to load videos from Firestore or YouTube. Check API key/Channel ID and network.\");\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n        console.log(\"üèÅ VideoCarousel fetch complete\");\r\n      }\r\n    };\r\n\r\n    fetchLatest();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"about-subtitle\">\r\n      \r\n      <CarouselBlock\r\n        title=\"Latest Videos\"\r\n        items={longVideos}\r\n        loading={loading}\r\n        emptyMessage=\"No videos available.\"\r\n      />\r\n      \r\n      <CarouselBlock\r\n        title=\"Latest Shorts\"\r\n        items={shorts}\r\n        loading={loading}\r\n        emptyMessage=\"No shorts available.\"\r\n      />\r\n\r\n      \r\n\r\n      {errorMsg && <p className=\"carousel-msg\" style={{ color: \"#fca5a5\" }}>{errorMsg}</p>}\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport VideoCarousel from \"../components/VideoCarousel\";\r\n\r\nimport hero from \"../assets/hero.jpg\";\r\nimport bgPic from \"../assets/bg_pic.jpg\";\r\n\r\nimport PageTransition from \"../PageTransition\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <PageTransition>\r\n      \r\n\r\n      {/* üî• FULL PAGE BACKGROUND */}\r\n      <div\r\n        className=\"home-bg\"\r\n        style={{ backgroundImage: `url(${bgPic})` }}\r\n      >\r\n\r\n        {/* ‚≠ê HERO IMAGE ‚Äî stays SAME as before */}\r\n        <section className=\"hero-image\">\r\n          <img src={hero} alt=\"Welcome to Theeyasakthi TN\" />\r\n        </section>\r\n\r\n        {/* TEXT OVERLAY BELOW HERO */}\r\n        <section className=\"intro-hero\">\r\n          <h1>Here you can enjoy politics in a sarcastic way.</h1>\r\n          <p>Welcome to Theeysakthi TN</p>\r\n        </section>\r\n\r\n        {/* ABOUT */}\r\n        <section className=\"about-preview container\">\r\n          <h2 className=\"about-subtitle\">About Theeyasakthi</h2>\r\n\r\n          <p style={{  fontSize: \"1.5rem\", opacity: \".9\"  }}>\r\n             <r>\r\n              Discover the satire, stories, and spicy political takes behind our content.\r\n              Learn why we do what we do ‚Äî with humour, honesty, and a bold voice. </r>\r\n            \r\n          </p>\r\n\r\n          <Link to=\"/about\" className=\"about-btn\">\r\n            Read More\r\n          </Link>\r\n        </section>\r\n\r\n        {/* VIDEOS */}\r\n        <VideoCarousel />\r\n\r\n      </div>\r\n    </PageTransition>\r\n  );\r\n}\r\n"],"names":["async","fetchYouTubeFallback","_channelData$items","_channelData$items$","_channelData$items$$c","_channelData$items$$c2","_playlistData$items","_detailsData$items","limitCount","arguments","length","undefined","apiKey","process","channelId","channelRes","fetch","concat","uploadsId","json","items","contentDetails","relatedPlaylists","uploads","shorts","videos","playlistRes","videoIds","map","item","_item$snippet","_item$snippet$resourc","snippet","resourceId","videoId","filter","Boolean","detailsRes","join","detailsData","forEach","_item$contentDetails","_item$snippet2","_item$snippet3","_item$snippet3$thumbn","_item$snippet3$thumbn2","_item$snippet4","_item$snippet4$thumbn","_item$snippet4$thumbn2","_item$snippet5","_item$snippet5$thumbn","_item$snippet5$thumbn2","_item$snippet6","_item$snippet6$thumbn","_item$snippet6$thumbn2","_item$snippet7","_item$snippet7$thumbn","_item$snippet7$thumbn2","_item$snippet8","durationSeconds","iso","_iso$match","_iso$match2","_iso$match3","total","parseInt","match","Number","isFinite","parseDurationSeconds","duration","isShort","payload","id","title","thumbnail","thumbnails","maxres","url","standard","high","medium","default","publishedAt","type","push","CarouselBlock","_ref","loading","emptyMessage","index","setIndex","useState","speed","setSpeed","useEffect","next","useCallback","i","prev","timer","setInterval","clearInterval","len","setTimeout","slides","buildSlides","disableNav","console","log","itemsCount","slidesCount","_jsxs","className","children","_jsx","onClick","disabled","style","transform","transition","video","Link","to","src","alt","onLoad","onError","e","error","target","VideoCarousel","setShorts","longVideos","setLongVideos","setLoading","errorMsg","setErrorMsg","snap","db","q","query","collection","orderBy","limit","getDocs","docs","orderingError","warn","data","doc","raw","fallbackThumb","_objectSpread","hasVideoId","normalizeDate","value","toMillis","seconds","nanoseconds","parsed","Date","parse","sorted","slice","sort","a","b","createdAt","shortsOnly","videosOnly","typeField","toLowerCase","isShortField","isVideo","totalFromFirestore","afterSort","shortsCount","videosCount","shortsData","v","dur","videosData","fallback","err","ytError","fetchLatest","color","Home","PageTransition","backgroundImage","bgPic","hero","fontSize","opacity"],"ignoreList":[],"sourceRoot":""}